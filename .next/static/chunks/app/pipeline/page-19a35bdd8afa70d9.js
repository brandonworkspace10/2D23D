(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{7020:function(e,s,t){Promise.resolve().then(t.bind(t,7764))},7764:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var a=t(7437),r=t(2265),l=t(7082),i=t(4281),n=t(8440),o=t(6554);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}t(6556);let c={pending:"border-slate-700/70 bg-slate-900/60 text-slate-400",processing:"border-blue-400/60 bg-blue-500/20 text-blue-200 animate-pulse",complete:"border-emerald-400/60 bg-emerald-500/15 text-emerald-200",error:"border-rose-400/70 bg-rose-500/15 text-rose-200"},x={pending:"Pending",processing:"Processing",complete:"Complete",error:"Error"};function p(e){let{status:s,className:t}=e;return(0,a.jsxs)("span",{className:d("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-[10px] uppercase tracking-[0.2em]",c[s],t),children:[(0,a.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),x[s]]})}function u(e){let{value:s,className:t}=e;return(0,a.jsx)("div",{className:d("h-2 w-full rounded-full bg-slate-800/70",t),children:(0,a.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-400 via-cyan-300 to-emerald-300 transition-all",style:{width:"".concat(Math.min(100,Math.max(0,s)),"%")}})})}function m(e){let{title:s,subtitle:t,icon:r,status:l,progress:i=0,children:n,footer:o}=e;return(0,a.jsxs)("div",{className:"w-[280px] rounded-2xl border border-slate-800/80 bg-slate-950/70 p-4 shadow-[0_20px_45px_rgba(2,6,23,0.6)] backdrop-blur",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl border border-slate-800/80 bg-slate-900/80 text-lg",children:r}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-display text-sm uppercase tracking-[0.2em] text-slate-200",children:s}),t?(0,a.jsx)("div",{className:"text-xs text-slate-400",children:t}):null]})]}),(0,a.jsx)(p,{status:l})]}),"processing"===l?(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,a.jsx)("div",{className:"text-[11px] uppercase tracking-[0.2em] text-blue-200",children:"Live progress"}),(0,a.jsx)(u,{value:i})]}):null,(0,a.jsx)("div",{className:"mt-3 space-y-3 text-xs text-slate-300",children:n}),o?(0,a.jsx)("div",{className:"mt-4 border-t border-slate-800/70 pt-3 text-xs text-slate-300",children:o}):null]})}function g(e){let{className:s,variant:t="primary",size:r="md",...l}=e;return(0,a.jsx)("button",{className:d("inline-flex items-center justify-center rounded-full font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/70","sm"===r?"px-3 py-1.5 text-xs":"px-4 py-2 text-sm","primary"===t&&"bg-blue-500/80 text-white shadow-glow hover:bg-blue-400/90","outline"===t&&"border border-slate-700/70 bg-slate-900/70 text-slate-100 hover:border-blue-400/60","ghost"===t&&"text-slate-200 hover:bg-slate-800/60",s),...l})}function b(e){let{label:s,children:t,className:r}=e;return(0,a.jsxs)("span",{className:d("relative inline-flex group",r),children:[t,(0,a.jsx)("span",{className:"pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap rounded-md border border-slate-700/60 bg-slate-900/90 px-2 py-1 text-[10px] text-slate-200 opacity-0 transition group-hover:opacity-100",children:s})]})}let h={good:"border-emerald-400/40 bg-emerald-500/10 text-emerald-200",warn:"border-amber-400/40 bg-amber-500/10 text-amber-200",bad:"border-rose-400/40 bg-rose-500/10 text-rose-200"};function j(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"source",position:l.Ly.Right}),(0,a.jsxs)(m,{title:"Upload",subtitle:"Input + validation",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"⬆️"}),footer:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-500",children:s.message}),(0,a.jsx)(g,{size:"sm",children:"Add images"})]}),children:[(0,a.jsx)("div",{className:"flex gap-2",children:s.images.map(e=>(0,a.jsx)(b,{label:"".concat(e.label," angle"),children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("div",{className:d("h-10 w-10 rounded-lg border border-slate-800/70 bg-gradient-to-br from-slate-800/80 to-slate-900/80","bad"===e.status&&"border-rose-400/60","warn"===e.status&&"border-amber-400/60")}),(0,a.jsx)("span",{className:"text-[10px] text-slate-400",children:e.label})]})},e.id))}),(0,a.jsx)("div",{className:"space-y-2",children:s.validations.map(e=>(0,a.jsxs)("div",{className:d("flex items-center justify-between rounded-lg border px-2 py-1 text-[11px]",h[e.status]),children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"text-slate-200/80",children:e.detail})]},e.id))})]})]})}function f(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"target",position:l.Ly.Left}),(0,a.jsx)(l.HH,{type:"source",position:l.Ly.Right}),(0,a.jsxs)(m,{title:"Background",subtitle:"Clean cutouts",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"\uD83E\uDDFC"}),footer:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:"Edge refinement: Auto"}),(0,a.jsx)(g,{size:"sm",variant:"outline",children:"Tweak edges"})]}),children:[(0,a.jsxs)("div",{className:"relative h-24 overflow-hidden rounded-xl border border-slate-800/70 bg-slate-900/70",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-700/70 to-slate-950/60"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-1/2 border-r border-slate-800/70 bg-slate-900/60"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-1/2 flex w-1/2 items-center justify-center",children:(0,a.jsx)("div",{className:"h-full w-0.5 bg-blue-300/70"})}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 rounded-full bg-slate-950/70 px-2 py-1 text-[10px] text-slate-200",children:s.beforeLabel}),(0,a.jsx)("div",{className:"absolute bottom-2 right-2 rounded-full bg-slate-950/70 px-2 py-1 text-[10px] text-slate-200",children:s.afterLabel})]}),(0,a.jsx)("div",{className:"space-y-1 text-[11px] text-slate-400",children:s.notes.map(e=>(0,a.jsxs)("div",{children:["• ",e]},e))})]})]})}function v(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"target",position:l.Ly.Left}),(0,a.jsx)(l.HH,{type:"source",position:l.Ly.Right}),(0,a.jsxs)(m,{title:"3D Build",subtitle:"Reconstruction",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"\uD83E\uDDE0"}),footer:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:s.statusTag}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g,{size:"sm",variant:"ghost",children:"Wireframe"}),(0,a.jsx)(g,{size:"sm",variant:"outline",children:"Textured"})]})]}),children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800/70 bg-gradient-to-br from-slate-900/80 to-slate-950/70 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Live viewer"}),(0,a.jsx)("span",{className:"text-[10px] text-slate-500",children:"Drag to rotate"})]}),(0,a.jsx)("div",{className:"mt-3 h-24 rounded-lg border border-dashed border-blue-400/40 bg-gradient-to-br from-blue-500/10 to-cyan-300/10"})]}),(0,a.jsx)("div",{className:"space-y-2",children:s.steps.map(e=>(0,a.jsxs)("div",{className:d("flex items-center justify-between rounded-lg border px-2 py-1 text-[11px]",e.done?"border-emerald-400/40 bg-emerald-500/10 text-emerald-200":"border-slate-800/70 bg-slate-900/60 text-slate-400"),children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{children:e.done?"Done":"Queued"})]},e.label))})]})]})}function y(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"target",position:l.Ly.Left}),(0,a.jsx)(l.HH,{type:"source",position:l.Ly.Right}),(0,a.jsx)(m,{title:"Cleanup",subtitle:"Mesh polish",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"\uD83D\uDEE0️"}),footer:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:s.note}),(0,a.jsx)(g,{size:"sm",variant:"outline",children:"Advanced"})]}),children:(0,a.jsx)("div",{className:"grid gap-2",children:s.settings.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-slate-800/70 bg-slate-900/60 px-2 py-1 text-[11px]",children:[(0,a.jsx)("span",{className:"text-slate-300",children:e.label}),(0,a.jsx)("span",{className:"text-slate-400",children:e.value})]},e.label))})})]})}function N(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"target",position:l.Ly.Left}),(0,a.jsxs)(m,{title:"Export",subtitle:"Store-ready",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"\uD83D\uDCE6"}),footer:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-500",children:"Embed snippet"}),(0,a.jsx)("div",{className:"rounded-lg border border-slate-800/70 bg-slate-950/80 px-2 py-2 font-mono text-[10px] text-slate-400",children:s.embedSnippet})]}),children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.formats.map(e=>(0,a.jsx)(g,{size:"sm",variant:"outline",children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{size:"sm",children:"Download bundle"}),(0,a.jsx)(g,{size:"sm",variant:"ghost",children:"Copy link"})]})]})]})}function w(e){let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.HH,{type:"target",position:l.Ly.Left}),(0,a.jsxs)(m,{title:"Video",subtitle:"Social-ready",status:s.status,progress:s.progress,icon:(0,a.jsx)("span",{children:"\uD83C\uDFAC"}),footer:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:s.note}),(0,a.jsx)(g,{size:"sm",variant:"outline",children:"Render"})]}),children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800/70 bg-gradient-to-br from-slate-900/80 to-slate-950/70 p-3",children:[(0,a.jsx)("div",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Preview"}),(0,a.jsx)("div",{className:"mt-3 h-20 rounded-lg border border-dashed border-purple-400/40 bg-gradient-to-br from-purple-500/10 to-pink-400/10"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.templates.map(e=>(0,a.jsx)(g,{size:"sm",variant:"ghost",children:e},e))})]})]})}let k=["upload","background","reconstruction","cleanup","export","video"],D=[{id:"upload",type:"upload",position:{x:0,y:40},data:{status:"processing",progress:0,message:"Waiting for images",images:[{id:"front",label:"Front",status:"good"},{id:"angle1",label:"Angle",status:"good"},{id:"side",label:"Side",status:"warn"},{id:"angle2",label:"Angle",status:"good"},{id:"back",label:"Back",status:"good"},{id:"detail",label:"Detail",status:"good"}],validations:[{id:"resolution",label:"Resolution",status:"good",detail:"2400px+"},{id:"angles",label:"Angle coverage",status:"good",detail:"5/6"},{id:"blur",label:"Blur risk",status:"warn",detail:"1 image"}]}},{id:"background",type:"background",position:{x:340,y:40},data:{status:"pending",progress:0,beforeLabel:"Before",afterLabel:"After",notes:["Auto mask + trim","White backdrop","Shadow preserved"]}},{id:"reconstruction",type:"reconstruction",position:{x:680,y:40},data:{status:"pending",progress:0,statusTag:"Draft mesh ready",steps:[{label:"Camera alignment",done:!1},{label:"Sparse point cloud",done:!1},{label:"Dense mesh build",done:!1}]}},{id:"cleanup",type:"cleanup",position:{x:1020,y:40},data:{status:"pending",progress:0,note:"Decimation target: 40k tris",settings:[{label:"Hole filling",value:"Standard"},{label:"Noise removal",value:"Medium"},{label:"Scale normalize",value:"Auto"}]}},{id:"export",type:"export",position:{x:1360,y:-80},data:{status:"pending",progress:0,formats:["GLB","USDZ","MP4"],embedSnippet:'<model-viewer src="/model.glb" autoplay camera-controls />'}},{id:"video",type:"video",position:{x:1360,y:180},data:{status:"pending",progress:0,note:"Draft preview at 25%",templates:["Studio spin","Hero orbit","Macro sweep"]}}],C=[{id:"e-upload-bg",source:"upload",target:"background",type:"smoothstep",markerEnd:{type:l.QZ.ArrowClosed}},{id:"e-bg-recon",source:"background",target:"reconstruction",type:"smoothstep",markerEnd:{type:l.QZ.ArrowClosed}},{id:"e-recon-clean",source:"reconstruction",target:"cleanup",type:"smoothstep",markerEnd:{type:l.QZ.ArrowClosed}},{id:"e-clean-export",source:"cleanup",target:"export",type:"smoothstep",markerEnd:{type:l.QZ.ArrowClosed}},{id:"e-clean-video",source:"cleanup",target:"video",type:"smoothstep",markerEnd:{type:l.QZ.ArrowClosed}}];function E(){let[e,s,t]=(0,l.Rr)(D),[d,c,x]=(0,l.ll)(C),[p,u]=(0,r.useState)(0),[m,b]=(0,r.useState)(0),[h,E]=(0,r.useState)(!0),[L,H]=(0,r.useState)(null),A=(0,r.useMemo)(()=>({upload:j,background:f,reconstruction:v,cleanup:y,export:N,video:w}),[]),S=(0,r.useCallback)(()=>{u(0),b(0),E(!0),H(null)},[]),z=(0,r.useCallback)(()=>{H("cleanup"),E(!1)},[]);return(0,r.useEffect)(()=>{if(!h)return;let e=setInterval(()=>{b(e=>{if(p>=k.length-1){let s=Math.min(100,e+8);return s>=100&&E(!1),s}return e>=100?(u(e=>Math.min(e+1,k.length-1)),0):Math.min(100,e+8)})},700);return()=>clearInterval(e)},[p,h]),(0,r.useEffect)(()=>{s(e=>e.map(e=>{let s=k.indexOf(e.id),t=L===e.id,a=s===p,r=s<p,l="pending";t?l="error":r?l="complete":a&&(l=h?"processing":"complete");let i="processing"===l?m:"complete"===l?100:0,n={...e.data,status:l,progress:i};return"upload"===e.id&&(n.message="complete"===l?"6 images validated":"Waiting for images"),"reconstruction"===e.id&&(n.steps=n.steps.map((e,s)=>({...e,done:i>(s+1)*28})),n.statusTag="complete"===l?"Draft mesh ready":"processing"===l?"Building dense mesh":"Awaiting cutouts"),"cleanup"===e.id&&(n.note="complete"===l?"Mesh optimized for web":"Decimation target: 40k tris"),"export"===e.id&&(n.embedSnippet="complete"===l?'<model-viewer src="/model.glb" camera-controls auto-rotate />':'<model-viewer src="/draft.glb" camera-controls />'),"video"===e.id&&(n.note="complete"===l?"Ready to render HD":"Draft preview at 25%"),{...e,data:n}}))},[p,L,h,m,s]),(0,a.jsxs)("div",{className:"min-h-screen px-8 py-8",children:[(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-slate-400",children:"Pipeline Studio"}),(0,a.jsx)("h1",{className:"font-display text-3xl text-slate-100",children:"2D-to-3D Product Conversion"}),(0,a.jsx)("p",{className:"mt-2 max-w-xl text-sm text-slate-400",children:"Live pipeline orchestration for commerce-grade 3D assets. Each node mirrors a backend stage with status, previews, and controls."})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g,{variant:"outline",onClick:S,children:"Restart mock"}),(0,a.jsx)(g,{variant:"ghost",onClick:z,children:"Inject error"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[11px] text-slate-400",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full bg-slate-500"})," Pending"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full bg-blue-400"})," Processing"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full bg-emerald-400"})," Complete"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full bg-rose-400"})," Error"]})]})]})]}),(0,a.jsx)("div",{className:"mx-auto mt-8 h-[70vh] max-w-6xl rounded-3xl border border-slate-800/80 bg-dot-grid canvas-glow",children:(0,a.jsxs)(l.x$,{nodes:e,edges:d,onNodesChange:t,onEdgesChange:x,fitView:!0,fitViewOptions:{padding:.2},nodeTypes:A,className:"rounded-3xl",children:[(0,a.jsx)(i.A,{color:"rgba(148, 163, 184, 0.2)",gap:28,size:1}),(0,a.jsx)(n.a,{nodeColor:()=>"rgba(96, 165, 250, 0.8)",maskColor:"rgba(15, 23, 42, 0.6)"}),(0,a.jsx)(o.Z,{})]})})]})}}},function(e){e.O(0,[627,780,170,971,117,744],function(){return e(e.s=7020)}),_N_E=e.O()}]);